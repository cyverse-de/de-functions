version: 1.0
provider:
  name: openfaas
  gateway: ${GATEWAY:-http://127.0.0.1:8080}
functions:
  vice-running-in-cluster:
    lang: golang-middleware
    handler: ./vice-running-in-cluster
    image: discoenv/fn-vice-running-in-cluster:${DOCKER_TAG:-latest}
    environment:
      GATEWAY: ${GATEWAY_IN_CLUSTER:-http://gateway.openfaas:8080}
      VICE_NAMESPACE: ${VICE_NAMESPACE:-vice-apps}
    annotations:
      com.openfaas.serviceaccount: ${K8S_API_SVCACCOUNT:-openfaas}
